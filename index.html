<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Prompt Database</title>

<!-- TailwindCSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="bg-gray-100 text-gray-900">

<!-- Header -->
<div class="text-center py-10">
    <h1 class="text-4xl font-bold mb-2">Prompt Database</h1>
    <p class="text-gray-600">Search, filter, and explore your prompts</p>
</div>

<!-- Search Bar -->
<div class="max-w-2xl mx-auto mb-8">
    <input
        id="searchBox"
        type="text"
        placeholder="Search prompts..."
        class="w-full px-4 py-3 rounded-xl shadow focus:ring-2 focus:ring-blue-500 outline-none"
    />
</div>

<!-- Prompt List -->
<div id="promptList" class="max-w-4xl mx-auto space-y-4 px-4"></div>

<script>
// ---- Load prompts from external JSON file ----
async function loadPrompts() {
    const response = await fetch("prompts.json");
    return await response.json();
}

// ---- Render prompts ----
function renderPrompts(list) {
    const container = document.getElementById("promptList");
    container.innerHTML = "";

    list.forEach(p => {
        const card = document.createElement("div");
        card.className =
            "bg-white shadow-md rounded-xl p-6 hover:shadow-lg transition";

        card.innerHTML = `
            <h3 class="text-xl font-semibold">${p.name}</h3>
            <p class="mt-2 text-gray-700">${p.prompt}</p>
            <div class="mt-3 flex flex-wrap gap-2">
                ${p.tags
                    .map(tag => 
                        `<span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-lg text-sm">${tag}</span>`
                    )
                    .join("")}
            </div>
        `;
        container.appendChild(card);
    });
}

// ---- Search functionality ----
function setupSearch(prompts) {
    const input = document.getElementById("searchBox");
    input.addEventListener("input", e => {
        const term = e.target.value.toLowerCase();

        const filtered = prompts.filter(p =>
            p.name.toLowerCase().includes(term) ||
            p.prompt.toLowerCase().includes(term) ||
            p.tags.join(" ").toLowerCase().includes(term)
        );

        renderPrompts(filtered);
    });
}

// ---- Initialize page ----
loadPrompts().then(prompts => {
    renderPrompts(prompts);
    setupSearch(prompts);
});
</script>

</body>
</html>
